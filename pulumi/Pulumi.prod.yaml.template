# OpenClaw Production Stack Configuration
#
# Copy this file to Pulumi.prod.yaml and initialize the stack:
#
#   cp Pulumi.prod.yaml.template Pulumi.prod.yaml
#   cd pulumi && pulumi stack init prod
#
# Then set the required secrets:
#
#   pulumi config set hcloud:token --secret          # Hetzner Cloud API token
#   pulumi config set tailscaleAuthKey --secret       # Tailscale auth key (reusable + ephemeral)
#   pulumi config set claudeSetupToken --secret       # From `claude setup-token`
#
# ──────────────────────────────────────────────────────────────────────
# Optional integrations (set any combination):
#
#   # Telegram notifications + cron job delivery
#   pulumi config set telegramBotToken --secret       # From @BotFather
#   pulumi config set telegramUserId "YOUR_USER_ID"   # From @userinfobot
#
#   # Workspace git sync (backs up ~/.openclaw/workspace to a private repo)
#   pulumi config set workspaceRepoUrl "git@github.com:YOU/openclaw-workspace.git"
#
#   # Web search via Grok (xAI) — agentic search with page reading
#   pulumi config set xaiApiKey --secret              # From x.ai/api
#
#   # Ready-to-use URL in Pulumi outputs (cosmetic, not required for access)
#   pulumi config set tailnetDnsName "your-tailnet.ts.net"
#
# ──────────────────────────────────────────────────────────────────────
# Deploy:
#
#   pulumi up
#
# Secrets added via `pulumi config set --secret` will appear below as
# encrypted values. Plain-text keys (like serverName) can be edited
# directly in this file.

config:
  # ── Hetzner server settings ───────────────────────────────────────
  # These have sensible defaults in index.ts; override here if needed.
  openclaw-infra:serverName: openclaw-vps        # Tailscale hostname
  openclaw-infra:serverType: cx33                # x86, 4 vCPU, 8GB RAM (~€5.49/mo)
  openclaw-infra:serverLocation: fsn1            # fsn1=Falkenstein, nbg1=Nuremberg, hel1=Helsinki
  openclaw-infra:serverImage: ubuntu-24.04       # Hetzner OS image
